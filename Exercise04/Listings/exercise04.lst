


ARM Macro Assembler    Page 1 Program Title for Listing Header Goes Here


    1 00000000                 TTL              Program Title for Listing Heade
r Goes Here
    2 00000000         ;*******************************************************
                       *********
    3 00000000         ;Descriptive comment header goes here.
    4 00000000         ;(What does the program do?)
    5 00000000         ;Name:  <Your name here>
    6 00000000         ;Date:  <Date completed here>
    7 00000000         ;Class:  CMPE-250
    8 00000000         ;Section:  <Your lab section, day, and time here>
    9 00000000         ;-------------------------------------------------------
                       --------
   10 00000000         ;Keil Simulator Template for KL46
   11 00000000         ;R. W. Melton
   12 00000000         ;January 23, 2015
   13 00000000         ;*******************************************************
                       *********
   14 00000000         ;Assembler directives
   15 00000000                 THUMB
   17 00000000         ;*******************************************************
                       *********
   18 00000000         ;EQUates
   19 00000000         ;Vectors
   20 00000000 000000C0 
                       VECTOR_TABLE_SIZE
                               EQU              0x000000C0
   21 00000000 00000004 
                       VECTOR_SIZE
                               EQU              4           ;Bytes per vector
   22 00000000         ;Stack
   23 00000000 00000100 
                       SSTACK_SIZE
                               EQU              0x00000100
   24 00000000         ;*******************************************************
                       *********
   25 00000000         ;Program
   26 00000000         ;Linker requires Reset_Handler
   27 00000000                 AREA             MyCode,CODE,READONLY
   28 00000000                 ENTRY
   29 00000000                 EXPORT           Reset_Handler
   30 00000000         Reset_Handler
   31 00000000         main
   32 00000000         ;-------------------------------------------------------
                       --------
   33 00000000         ;>>>>> begin main program code <<<<<
   34 00000000         
   35 00000000 2005            MOVS             R0, #5
   36 00000002 2114            MOVS             R1, #20
   37 00000004         
   38 00000004 F000 F80A       BL               DIVU
   39 00000008         
   40 00000008 2003            MOVS             R0, #3
   41 0000000A 2114            MOVS             R1, #20
   42 0000000C         
   43 0000000C F000 F806       BL               DIVU
   44 00000010         
   45 00000010 2000            MOVS             R0, #0
   46 00000012 2114            MOVS             R1, #20
   47 00000014         



ARM Macro Assembler    Page 2 Program Title for Listing Header Goes Here


   48 00000014 F000 F802       BL               DIVU
   49 00000018         
   50 00000018 2064            MOVS             R0, #100
   51 0000001A         
   52 0000001A         ;>>>>>   end main program code <<<<<
   53 0000001A         ;Stay here
   54 0000001A E7FE            B                .
   55 0000001C         ;-------------------------------------------------------
                       --------
   56 0000001C         ;>>>>> begin subroutine code <<<<<
   57 0000001C         DIVU
   58 0000001C B40C            PUSH             {R2,R3}     ; Preserve state of
                                                             Registers, will be
                                                             using for computat
                                                            ion
   59 0000001E 2800            CMP              R0, #0
   60 00000020 D000            BEQ              SET_C
   61 00000022 E007            B                NO_ERR
   62 00000024         
   63 00000024         SET_C
   64 00000024         
   65 00000024 F3EF 8200       MRS              R2, APSR
   66 00000028 2320            MOVS             R3, #0x20
   67 0000002A 061B            LSLS             R3, R3, #24
   68 0000002C 431A            ORRS             R2, R2, R3
   69 0000002E F382 8800       MSR              APSR, R2
   70 00000032         
   71 00000032 E00D            B                RETURN
   72 00000034         NO_ERR
   73 00000034 2200            MOVS             R2, #0      ; Move beginning qu
                                                            otient to R2
   74 00000036         
   75 00000036         DIVIDE_OP
   76 00000036 4281            CMP              R1, R0
   77 00000038 DB02            BLT              END_DIVIDE_WHILE
   78 0000003A         
   79 0000003A 1A09            SUBS             R1, R1, R0  ; R1 = dividend - d
                                                            ivisor
   80 0000003C 1C52            ADDS             R2, R2, #1  ; Quotient += 1
   81 0000003E         
   82 0000003E E7FA            B                DIVIDE_OP
   83 00000040         
   84 00000040         END_DIVIDE_WHILE
   85 00000040 0010            MOVS             R0, R2
   86 00000042         
   87 00000042 F3EF 8200       MRS              R2, APSR
   88 00000046 2320            MOVS             R3, #0x20
   89 00000048 0612            LSLS             R2, R2, #24
   90 0000004A 439A            BICS             R2, R2, R3
   91 0000004C F382 8800       MSR              APSR, R2
   92 00000050         
   93 00000050         RETURN
   94 00000050 BC0C            POP              {R2, R3}    ;Return registers t
                                                            o previous state
   95 00000052 4770            BX               LR          ;Jump out of subrou
                                                            tine
   96 00000054         
   97 00000054         ;>>>>>   end subroutine code <<<<<
   98 00000054                 ALIGN



ARM Macro Assembler    Page 3 Program Title for Listing Header Goes Here


   99 00000054         ;*******************************************************
                       *********
  100 00000054         ;Vector Table Mapped to Address 0 at Reset
  101 00000054         ;Linker requires __Vectors to be exported
  102 00000054                 AREA             RESET, DATA, READONLY
  103 00000000                 EXPORT           __Vectors
  104 00000000                 EXPORT           __Vectors_End
  105 00000000                 EXPORT           __Vectors_Size
  106 00000000         __Vectors
  107 00000000         ;ARM core vectors
  108 00000000 00000000        DCD              __initial_sp ;00:end of stack
  109 00000004 00000000        DCD              Reset_Handler ;reset vector
  110 00000008 00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 



ARM Macro Assembler    Page 4 Program Title for Listing Header Goes Here


              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00               SPACE            (VECTOR_TABLE_SIZE - (2 * VECTO
R_SIZE))
  111 000000C0         __Vectors_End
  112 000000C0 000000C0 
                       __Vectors_Size
                               EQU              __Vectors_End - __Vectors
  113 000000C0                 ALIGN
  114 000000C0         ;*******************************************************
                       *********
  115 000000C0         ;Constants
  116 000000C0                 AREA             MyConst,DATA,READONLY
  117 00000000         ;>>>>> begin constants here <<<<<
  118 00000000         ;>>>>>   end constants here <<<<<
  119 00000000         ;*******************************************************
                       *********
  120 00000000                 AREA             |.ARM.__at_0x1FFFE000|,DATA,REA
DWRITE,ALIGN=3
  121 00000000                 EXPORT           __initial_sp
  122 00000000         ;Allocate system stack
  123 00000000                 IF               :LNOT::DEF:SSTACK_SIZE
  125                          ENDIF
  126 00000000 00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 



ARM Macro Assembler    Page 5 Program Title for Listing Header Goes Here


              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 



ARM Macro Assembler    Page 6 Program Title for Listing Header Goes Here


              00 00 00 
              00 00 00 
              00       Stack_Mem
                               SPACE            SSTACK_SIZE
  127 00000100         __initial_sp
  128 00000100         ;*******************************************************
                       *********
  129 00000100         ;Variables
  130 00000100                 AREA             MyData,DATA,READWRITE
  131 00000000         ;>>>>> begin variables here <<<<<
  132 00000000         ;>>>>>   end variables here <<<<<
  133 00000000                 END
Command Line: --debug --xref --diag_suppress=9931 --cpu=Cortex-M0+ --apcs=inter
work --depend=.\objects\exercise04.d -o.\objects\exercise04.o -IC:\Users\justin
\workspace\arm-libs\Exercise04\RTE -IC:\Keil_v5\ARM\PACK\Keil\Kinetis_KLxx_DFP\
1.7.0\Device\Include -IC:\Keil_v5\ARM\CMSIS\Include --predefine="__EVAL SETA 1"
 --predefine="__UVISION_VERSION SETA 516" --predefine="MKL46Z256xxx4 SETA 1" --
list=.\listings\exercise04.lst Exercise04.s



ARM Macro Assembler    Page 1 Alphabetic symbol ordering
Relocatable symbols

DIVIDE_OP 00000036

Symbol: DIVIDE_OP
   Definitions
      At line 75 in file Exercise04.s
   Uses
      At line 82 in file Exercise04.s
Comment: DIVIDE_OP used once
DIVU 0000001C

Symbol: DIVU
   Definitions
      At line 57 in file Exercise04.s
   Uses
      At line 38 in file Exercise04.s
      At line 43 in file Exercise04.s
      At line 48 in file Exercise04.s

END_DIVIDE_WHILE 00000040

Symbol: END_DIVIDE_WHILE
   Definitions
      At line 84 in file Exercise04.s
   Uses
      At line 77 in file Exercise04.s
Comment: END_DIVIDE_WHILE used once
MyCode 00000000

Symbol: MyCode
   Definitions
      At line 27 in file Exercise04.s
   Uses
      None
Comment: MyCode unused
NO_ERR 00000034

Symbol: NO_ERR
   Definitions
      At line 72 in file Exercise04.s
   Uses
      At line 61 in file Exercise04.s
Comment: NO_ERR used once
RETURN 00000050

Symbol: RETURN
   Definitions
      At line 93 in file Exercise04.s
   Uses
      At line 71 in file Exercise04.s
Comment: RETURN used once
Reset_Handler 00000000

Symbol: Reset_Handler
   Definitions
      At line 30 in file Exercise04.s
   Uses
      At line 29 in file Exercise04.s
      At line 109 in file Exercise04.s




ARM Macro Assembler    Page 2 Alphabetic symbol ordering
Relocatable symbols

SET_C 00000024

Symbol: SET_C
   Definitions
      At line 63 in file Exercise04.s
   Uses
      At line 60 in file Exercise04.s
Comment: SET_C used once
main 00000000

Symbol: main
   Definitions
      At line 31 in file Exercise04.s
   Uses
      None
Comment: main unused
9 symbols



ARM Macro Assembler    Page 1 Alphabetic symbol ordering
Relocatable symbols

RESET 00000000

Symbol: RESET
   Definitions
      At line 102 in file Exercise04.s
   Uses
      None
Comment: RESET unused
__Vectors 00000000

Symbol: __Vectors
   Definitions
      At line 106 in file Exercise04.s
   Uses
      At line 103 in file Exercise04.s
      At line 112 in file Exercise04.s

__Vectors_End 000000C0

Symbol: __Vectors_End
   Definitions
      At line 111 in file Exercise04.s
   Uses
      At line 104 in file Exercise04.s
      At line 112 in file Exercise04.s

3 symbols



ARM Macro Assembler    Page 1 Alphabetic symbol ordering
Relocatable symbols

MyConst 00000000

Symbol: MyConst
   Definitions
      At line 116 in file Exercise04.s
   Uses
      None
Comment: MyConst unused
1 symbol



ARM Macro Assembler    Page 1 Alphabetic symbol ordering
Relocatable symbols

.ARM.__at_0x1FFFE000 00000000

Symbol: .ARM.__at_0x1FFFE000
   Definitions
      At line 120 in file Exercise04.s
   Uses
      None
Comment: .ARM.__at_0x1FFFE000 unused
Stack_Mem 00000000

Symbol: Stack_Mem
   Definitions
      At line 126 in file Exercise04.s
   Uses
      None
Comment: Stack_Mem unused
__initial_sp 00000100

Symbol: __initial_sp
   Definitions
      At line 127 in file Exercise04.s
   Uses
      At line 108 in file Exercise04.s
      At line 121 in file Exercise04.s

3 symbols



ARM Macro Assembler    Page 1 Alphabetic symbol ordering
Relocatable symbols

MyData 00000000

Symbol: MyData
   Definitions
      At line 130 in file Exercise04.s
   Uses
      None
Comment: MyData unused
1 symbol



ARM Macro Assembler    Page 1 Alphabetic symbol ordering
Absolute symbols

SSTACK_SIZE 00000100

Symbol: SSTACK_SIZE
   Definitions
      At line 23 in file Exercise04.s
   Uses
      At line 126 in file Exercise04.s
Comment: SSTACK_SIZE used once
VECTOR_SIZE 00000004

Symbol: VECTOR_SIZE
   Definitions
      At line 21 in file Exercise04.s
   Uses
      At line 110 in file Exercise04.s
Comment: VECTOR_SIZE used once
VECTOR_TABLE_SIZE 000000C0

Symbol: VECTOR_TABLE_SIZE
   Definitions
      At line 20 in file Exercise04.s
   Uses
      At line 110 in file Exercise04.s
Comment: VECTOR_TABLE_SIZE used once
__Vectors_Size 000000C0

Symbol: __Vectors_Size
   Definitions
      At line 112 in file Exercise04.s
   Uses
      At line 105 in file Exercise04.s
Comment: __Vectors_Size used once
4 symbols
354 symbols in table
